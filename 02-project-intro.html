<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Project Management With RStudio</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.2/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Project Management With RStudio

---



# Introduction

&lt;blockquote class="twitter-tweet"&gt;&lt;p&gt;Managing your projects in a reproducible fashion doesn't just make your science reproducible, it makes your life easier.&lt;/p&gt;â€” Vince Buffalo (@vsbuffalo) &lt;a href="https://twitter.com/vsbuffalo/status/323638476153167872"&gt;April 15, 2013&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---

## People tend to organize their projects like this:

![](images/bad_layout.png)

---

# Why is bad for reproducibility?

1. Which version of your data is
the original and which is the modified?
2. It gets really messy because it mixes files with various
extensions together.
3. Takes a lot of time to find
things.
4. How are data, code and product linked?

--

# A good project layout will make your life easier

* It will help ensure the integrity of your data.
* It makes it simpler to share your code with someone else
(a lab-mate, collaborator, or supervisor).
* It allows you to easily upload your code with your manuscript submission.
* It makes it easier to pick the project back up after a break.

---

# Best practices for project organization

There's no one best way, but whatever you choose should make sense to you. It should also make sense to collaborators, including future you.

## Treat data as read only

* Need to be confident that the data is the data and hasn't been changed
* Working in the original file (e.g., in Excel) means data can be accidentally modified
* Separate data from analysis and treat it as read-only

--

## Data Cleaning

In many cases your data will be "dirty": it will need significant preprocessing
to get into a format R (or any other programming language) will find useful.

* Clean data with scripts where possible (exact instructions if not)
* Keep data cleaning scripts with the project
* Store cleaned data in separate directory

---

## Treat generated output as disposable

Anything generated by your scripts should be treated as disposable: it should
all be able to be regenerated from your scripts.

There are lots of different ways to manage this output. Having an output folder
with different sub-directories for each separate analysis makes it easier later.
Since many analyses are exploratory and don't end up being used in the final
project, and some of the analyses get shared between projects.

--

## Separate function definition and application

One of the more effective ways to work with R is to start by writing the code you want to run directly in a .R script, and then running the selected lines (either using the keyboard shortcuts in RStudio or clicking the "Run" button) in the interactive R console.

When your project is in its early stages, the initial .R script file usually contains many lines of directly executed code. As it matures, reusable chunks get pulled into their own functions. It's a good idea to separate these functions into two separate folders; one to store useful functions that you'll reuse across analyses and projects, and one to store the analysis scripts.

---

&gt; # Tip: Good Enough Practices for Scientific Computing
&gt;
&gt; [Good Enough Practices for Scientific Computing](https://github.com/swcarpentry/good-enough-practices-in-scientific-computing/blob/gh-pages/good-enough-practices-for-scientific-computing.pdf) gives the following recommendations for project organization:
&gt;
&gt; 1. Put each project in its own directory, which is named after the project.
&gt; 2. Put text documents associated with the project in the `doc` directory.
&gt; 3. Put raw data and metadata in the `data` directory, and files generated during cleanup and analysis in a `results` directory.
&gt; 4. Put source for the project's scripts and programs in the `src` directory, and programs brought in from elsewhere or compiled locally in the `bin` directory.
&gt; 5. Name all files to reflect their content or function.

---

# A project workflow

### It's **OK** to start simple!

Projects often start with a single script, notebook, or some commands in the console.

* When you start acquiring data, make a `data` directory
* When you have code you want to keep (even just a line or two), make a script or notebook and put it in an `R` or `src` folder
* When your data gathering/cleaning code gets complex, turn it into a separate script
* When you start copying and pasting code, make a function
* When you have a couple of functions, make a script of functions and use `source()` to load them in other files.
* When you have functions useful outside the project, make a package

---

# Version Control

Version control is another essential piece of project organization and reproducibility. We'll talk much more about this next time!

---

# A possible solution: the RStudio Project

One of the most powerful and useful aspects of RStudio is its project management functionality. RStudio projects:

* keep projects separate (files and more important: environment)
* encourage good project structure
* make version control easy(er)

## Lets make a project for the course!

Breakouts for challenge 1-3 from:

https://swcarpentry.github.io/r-novice-gapminder/02-project-intro/index.html
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
